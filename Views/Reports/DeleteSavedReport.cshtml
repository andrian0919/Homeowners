@model HomeownersSubdivision.Models.Analytics.SavedReport

@{
    ViewData["Title"] = "Delete Saved Report";
}

<div class="container mx-auto px-4 py-8">
    <div class="bg-white rounded-lg shadow-sm overflow-hidden max-w-2xl mx-auto">
        <div class="p-4 bg-red-50 border-b border-red-100">
            <h2 class="text-lg font-semibold text-red-700">Confirm Delete</h2>
            <p class="text-sm text-red-600">Are you sure you want to delete this saved report?</p>
        </div>
        <div class="p-6">
            <div class="mb-6">
                <h3 class="text-xl font-semibold mb-4">@Model.Name</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <p class="text-sm text-gray-500 mb-1">Generated On</p>
                        <p class="text-base">@Model.GeneratedAt.ToString("yyyy-MM-dd HH:mm")</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500 mb-1">Generated By</p>
                        <p class="text-base">@(Model.GeneratedBy != null ? Model.GeneratedBy.Username : "System")</p>
                    </div>
                    
                    @if (Model.ReportDefinition != null)
                    {
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Report Type</p>
                            <p class="text-base">@Model.ReportDefinition.Category</p>
                        </div>
                    }
                    
                    @if (Model.StartDate.HasValue && Model.EndDate.HasValue)
                    {
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Date Range</p>
                            <p class="text-base">@Model.StartDate.Value.ToString("yyyy-MM-dd") to @Model.EndDate.Value.ToString("yyyy-MM-dd")</p>
                        </div>
                    }
                </div>
                
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="bi bi-exclamation-triangle text-yellow-400"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">
                                This action cannot be undone. This will permanently delete the saved report.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end space-x-4">
                <a href="@Url.Action("SavedReports")" class="btn-outline-dark">
                    <i class="bi bi-arrow-left mr-1"></i> Cancel
                </a>
                
                <form asp-action="DeleteSavedReport" method="post">
                    <input type="hidden" name="id" value="@Model.Id" />
                    <button type="submit" class="btn-danger">
                        <i class="bi bi-trash mr-1"></i> Delete Report
                    </button>
                </form>
            </div>
        </div>
    </div>
</div> 